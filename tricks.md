# initial build
run build.sh

# Incremental Build
run make install

# ISS Simulator
Functional only, no timing: arm-sim (generated by GLISS)
Cycle-level ISS: ogensim (based on SystemC)

## Setup of ogensim
Needs simulator enabled in otawa build, otherwise:
  ogensim main.elf -p ~/async/WCET_gitlab/otawa/linux-x86_64/otawa-core/share/Otawa/scripts/generic/pipeline.xml
  ERROR: no functional simulator with the current loader

 1. conjecture: simulator needs to be turned on in otawa to get ARM SimState in ogensim -> set CMAKE bool
 2. this in turn requires WITH_MEM_SPY in gliss loader
 3. setting it in armv7 config.h
 -> requires clean -> deletes arm.nml arm.irg and nmp/state.nmp
 -> building again -> done
 ->
 -> building otawa again
 -> generates otawa_multi/kind/target/sem
 -> sem.h fails:
ERROR: attribute otawa_sem in VSTRS_SD___LT_S___ISD_RT_ at armv7t.nmp:387 is not stateless as it should be!
Seems that armv7t is incompatible

 3. Trying again with armv5t module
 -> mem_spy enabled
 -> it builds successfuly
 => change OTAWA to armv5t loader => if prefers ARM7, but if folder is renamed, defaults to ARM5 => re-run 'make build' => makefile loop
 => try 'make  clean && make' in otawa -> cmake runs again -> otawa builds -> '/home/becker/async/WCET_gitlab/otawa/linux-x86_64/otawa-core-build/armv7t/arm.irg
 => go into src/arm2, remove armv7t.nmp, run 'cmake' -> builds
 => back to OTAWA build: make -> builds!
 => the makefile loop persists... "can's cd to armv7t" -> sed -i 's/armv7/armv5/g' linux-x86_64/otawa-core-build/Makefile

==> ogensim starts executing, but crashes with a segfault.

# Manipulating ILP System manually
E.g., if constraints are not expressive enough.

1. run owcet with -i (--dump-ilp)
 => creates *.lp file

2. modify file:
  get BB numbers from graphs (<step processor="otawa::display::CFGOutput"/>)

3. run lp_solve manually
/usr/bin/lp_solve < *.lp


